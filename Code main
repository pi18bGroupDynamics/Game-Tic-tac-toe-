@@ -0,0 +1,818 @@
public partial class Form1 : Form
    {
        System.Timers.Timer t;//Обьявление таймера
        int m, s; // Минуты , секуны

        bool indicator = true;
        int x, y;
        int counter = 0;
        int[,] field = new int[14, 14];
        public Button but = new Button();
        public Form1()
        {
            int i,j;
            InitializeComponent();            
            for (i = 1; i < 13; i++)                            //генерация кнопок
            {
                for (j = 1; j < 13; j++)
                {
                    but = new Button();
                    but.Size = new Size(50, 50);                //размер кнопки
                    but.Location = new Point(i*50, j*50);       //ее позиция
                    but.Click += new EventHandler(but_Click);   //действие при клике
                    but.Text = " ";
                    this.Controls.Add(but);
                }
            }
        }

        public void but_Click(object sender, EventArgs e)       //действие при нажатии 
        {
            but = (Button)sender;
            x = (but.Location.X / 50);
            y = (but.Location.Y / 50);
            string location = x + ":" + y;
            //MessageBox.Show(location);
            if (indicator)
            {
                but.Text = "Х";
                field[x, y] = 1;
                indicator = false;
            }
            else
            {
                but.Text = "O";
                field[x, y] = 2;
                indicator = true;
            }
            but.Enabled = false;
            counter++;
            Check();
        }

namespace WindowsFormsApplication2
{
    partial class Form1
    {
        /// <summary>
        /// Требуется переменная конструктора.
        /// </summary>
        private System.ComponentModel.IContainer components = null;

        /// <summary>
        /// Освободить все используемые ресурсы.
        /// </summary>
        /// <param name="disposing">истинно, если управляемый ресурс должен быть удален; иначе ложно.</param>
        protected override void Dispose(bool disposing)
        {
            if (disposing && (components != null))
            {
                components.Dispose();
            }
            base.Dispose(disposing);
        }

        #region Код, автоматически созданный конструктором форм Windows

        /// <summary>
        /// Обязательный метод для поддержки конструктора - не изменяйте
        /// содержимое данного метода при помощи редактора кода.
        /// </summary>
        private void InitializeComponent()
        {
            System.ComponentModel.ComponentResourceManager resources = new System.ComponentModel.ComponentResourceManager(typeof(Form1));
            this.menuStrip1 = new System.Windows.Forms.MenuStrip();
            this.играToolStripMenuItem = new System.Windows.Forms.ToolStripMenuItem();
            this.игратьЗановоToolStripMenuItem = new System.Windows.Forms.ToolStripMenuItem();
            this.играНаВремяToolStripMenuItem = new System.Windows.Forms.ToolStripMenuItem();
            this.включитьТаймерToolStripMenuItem = new System.Windows.Forms.ToolStripMenuItem();
            this.остановитьВремяToolStripMenuItem = new System.Windows.Forms.ToolStripMenuItem();
            this.выходToolStripMenuItem = new System.Windows.Forms.ToolStripMenuItem();
            this.помошьToolStripMenuItem = new System.Windows.Forms.ToolStripMenuItem();
            this.стратегииToolStripMenuItem = new System.Windows.Forms.ToolStripMenuItem();
            this.правилаИгрыToolStripMenuItem = new System.Windows.Forms.ToolStripMenuItem();
            this.оПрограммеToolStripMenuItem = new System.Windows.Forms.ToolStripMenuItem();
            this.вкладкаДляТестДрайваToolStripMenuItem = new System.Windows.Forms.ToolStripMenuItem();
            this.разToolStripMenuItem = new System.Windows.Forms.ToolStripMenuItem();
            this.разРазToolStripMenuItem = new System.Windows.Forms.ToolStripMenuItem();
            this.разРазРазToolStripMenuItem = new System.Windows.Forms.ToolStripMenuItem();
            this.textBox1 = new System.Windows.Forms.TextBox();
            this.label1 = new System.Windows.Forms.Label();
            this.label2 = new System.Windows.Forms.Label();
            this.menuStrip1.SuspendLayout();
            this.SuspendLayout();
            // 
            // menuStrip1
            // 
            this.menuStrip1.ImageScalingSize = new System.Drawing.Size(20, 20);
            this.menuStrip1.Items.AddRange(new System.Windows.Forms.ToolStripItem[] {
            this.играToolStripMenuItem,
            this.помошьToolStripMenuItem,
            this.вкладкаДляТестДрайваToolStripMenuItem});
            this.menuStrip1.Location = new System.Drawing.Point(0, 0);
            this.menuStrip1.Name = "menuStrip1";
            this.menuStrip1.Padding = new System.Windows.Forms.Padding(4, 2, 0, 2);
            this.menuStrip1.Size = new System.Drawing.Size(528, 24);
            this.menuStrip1.TabIndex = 0;
            this.menuStrip1.Text = "menuStrip1";
            this.menuStrip1.ItemClicked += new System.Windows.Forms.ToolStripItemClickedEventHandler(this.menuStrip1_ItemClicked);
            // 
            // играToolStripMenuItem
            // 
            this.играToolStripMenuItem.DropDownItems.AddRange(new System.Windows.Forms.ToolStripItem[] {
            this.игратьЗановоToolStripMenuItem,
            this.играНаВремяToolStripMenuItem,
            this.выходToolStripMenuItem});
            this.играToolStripMenuItem.Font = new System.Drawing.Font("Roboto", 9F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point, ((byte)(204)));
            this.играToolStripMenuItem.Name = "играToolStripMenuItem";
            this.играToolStripMenuItem.Size = new System.Drawing.Size(56, 20);
            this.играToolStripMenuItem.Text = "Gayme";
            // 
            // игратьЗановоToolStripMenuItem
            // 
            this.игратьЗановоToolStripMenuItem.Name = "игратьЗановоToolStripMenuItem";
            this.игратьЗановоToolStripMenuItem.Size = new System.Drawing.Size(209, 22);
            this.игратьЗановоToolStripMenuItem.Text = "Развязать войну снова";
            this.игратьЗановоToolStripMenuItem.Click += new System.EventHandler(this.игратьЗановоToolStripMenuItem_Click);
            // 
            // играНаВремяToolStripMenuItem
            // 
            this.играНаВремяToolStripMenuItem.DropDownItems.AddRange(new System.Windows.Forms.ToolStripItem[] {
            this.включитьТаймерToolStripMenuItem,
            this.остановитьВремяToolStripMenuItem});
            this.играНаВремяToolStripMenuItem.Name = "играНаВремяToolStripMenuItem";
            this.играНаВремяToolStripMenuItem.Size = new System.Drawing.Size(209, 22);
            this.играНаВремяToolStripMenuItem.Text = "TimeManagement";
            this.играНаВремяToolStripMenuItem.Click += new System.EventHandler(this.играНаВремяToolStripMenuItem_Click);
            // 
            // включитьТаймерToolStripMenuItem
            // 
            this.включитьТаймерToolStripMenuItem.Name = "включитьТаймерToolStripMenuItem";
            this.включитьТаймерToolStripMenuItem.Size = new System.Drawing.Size(121, 22);
            this.включитьТаймерToolStripMenuItem.Text = "Time vkl";
            this.включитьТаймерToolStripMenuItem.Click += new System.EventHandler(this.включитьТаймерToolStripMenuItem_Click_1);
            // 
            // остановитьВремяToolStripMenuItem
            // 
            this.остановитьВремяToolStripMenuItem.Name = "остановитьВремяToolStripMenuItem";
            this.остановитьВремяToolStripMenuItem.Size = new System.Drawing.Size(121, 22);
            this.остановитьВремяToolStripMenuItem.Text = "Time vikl";
            this.остановитьВремяToolStripMenuItem.Click += new System.EventHandler(this.остановитьВремяToolStripMenuItem_Click);
            // 
            // выходToolStripMenuItem
            // 
            this.выходToolStripMenuItem.Name = "выходToolStripMenuItem";
            this.выходToolStripMenuItem.Size = new System.Drawing.Size(209, 22);
            this.выходToolStripMenuItem.Text = "Покинуть сражение";
            this.выходToolStripMenuItem.Click += new System.EventHandler(this.выходToolStripMenuItem_Click);
            // 
            // помошьToolStripMenuItem
            // 
            this.помошьToolStripMenuItem.DropDownItems.AddRange(new System.Windows.Forms.ToolStripItem[] {
            this.стратегииToolStripMenuItem,
            this.правилаИгрыToolStripMenuItem,
            this.оПрограммеToolStripMenuItem});
            this.помошьToolStripMenuItem.Font = new System.Drawing.Font("Roboto", 9F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point, ((byte)(204)));
            this.помошьToolStripMenuItem.Name = "помошьToolStripMenuItem";
            this.помошьToolStripMenuItem.Size = new System.Drawing.Size(46, 20);
            this.помошьToolStripMenuItem.Text = "Help ";
            // 
            // стратегииToolStripMenuItem
            // 
            this.стратегииToolStripMenuItem.Name = "стратегииToolStripMenuItem";
            this.стратегииToolStripMenuItem.Size = new System.Drawing.Size(234, 22);
            this.стратегииToolStripMenuItem.Text = "Да как это играть вообще?!";
            this.стратегииToolStripMenuItem.Click += new System.EventHandler(this.стратегииToolStripMenuItem_Click);
            // 
            // правилаИгрыToolStripMenuItem
            // 
            this.правилаИгрыToolStripMenuItem.Name = "правилаИгрыToolStripMenuItem";
            this.правилаИгрыToolStripMenuItem.Size = new System.Drawing.Size(234, 22);
            this.правилаИгрыToolStripMenuItem.Text = "RULES";
            this.правилаИгрыToolStripMenuItem.Click += new System.EventHandler(this.правилаИгрыToolStripMenuItem_Click);
            // 
            // оПрограммеToolStripMenuItem
            // 
            this.оПрограммеToolStripMenuItem.Name = "оПрограммеToolStripMenuItem";
            this.оПрограммеToolStripMenuItem.Size = new System.Drawing.Size(234, 22);
            this.оПрограммеToolStripMenuItem.Text = "О программе";
            this.оПрограммеToolStripMenuItem.Click += new System.EventHandler(this.оПрограммеToolStripMenuItem_Click);
            // 
            // вкладкаДляТестДрайваToolStripMenuItem
            // 
            this.вкладкаДляТестДрайваToolStripMenuItem.DropDownItems.AddRange(new System.Windows.Forms.ToolStripItem[] {
            this.разToolStripMenuItem,
            this.разРазToolStripMenuItem,
            this.разРазРазToolStripMenuItem});
            this.вкладкаДляТестДрайваToolStripMenuItem.Font = new System.Drawing.Font("Roboto", 9F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point, ((byte)(204)));
            this.вкладкаДляТестДрайваToolStripMenuItem.Name = "вкладкаДляТестДрайваToolStripMenuItem";
            this.вкладкаДляТестДрайваToolStripMenuItem.Size = new System.Drawing.Size(168, 20);
            this.вкладкаДляТестДрайваToolStripMenuItem.Text = "Вкладка для тест драйва";
            this.вкладкаДляТестДрайваToolStripMenuItem.Click += new System.EventHandler(this.вкладкаДляТестДрайваToolStripMenuItem_Click);
            // 
            // разToolStripMenuItem
            // 
            this.разToolStripMenuItem.Name = "разToolStripMenuItem";
            this.разToolStripMenuItem.Size = new System.Drawing.Size(180, 22);
            this.разToolStripMenuItem.Text = "1 раз";
            // 
            // разРазToolStripMenuItem
            // 
            this.разРазToolStripMenuItem.Name = "разРазToolStripMenuItem";
            this.разРазToolStripMenuItem.Size = new System.Drawing.Size(180, 22);
            this.разРазToolStripMenuItem.Text = "2 раза";
            // 
            // разРазРазToolStripMenuItem
            // 
            this.разРазРазToolStripMenuItem.Name = "разРазРазToolStripMenuItem";
            this.разРазРазToolStripMenuItem.Size = new System.Drawing.Size(180, 22);
            this.разРазРазToolStripMenuItem.Text = "3 раза";
            // 
            // textBox1
            // 
            this.textBox1.Anchor = System.Windows.Forms.AnchorStyles.Bottom;
            this.textBox1.Font = new System.Drawing.Font("Microsoft Sans Serif", 36F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point, ((byte)(204)));
            this.textBox1.Location = new System.Drawing.Point(134, 583);
            this.textBox1.Margin = new System.Windows.Forms.Padding(2, 2, 2, 2);
            this.textBox1.Name = "textBox1";
            this.textBox1.ReadOnly = true;
            this.textBox1.Size = new System.Drawing.Size(246, 62);
            this.textBox1.TabIndex = 2;
            this.textBox1.Text = "00:00";
            this.textBox1.TextAlign = System.Windows.Forms.HorizontalAlignment.Center;
            // 
            // label1
            // 
            this.label1.Anchor = System.Windows.Forms.AnchorStyles.Bottom;
            this.label1.AutoSize = true;
            this.label1.BackColor = System.Drawing.Color.Transparent;
            this.label1.Font = new System.Drawing.Font("Roboto", 13F);
            this.label1.Location = new System.Drawing.Point(130, 552);
            this.label1.Margin = new System.Windows.Forms.Padding(2, 0, 2, 0);
            this.label1.Name = "label1";
            this.label1.Size = new System.Drawing.Size(153, 22);
            this.label1.TabIndex = 4;
            this.label1.Text = "Таймер, от слова";
            this.label1.Click += new System.EventHandler(this.label1_Click_1);
            // 
            // label2
            // 
            this.label2.AutoSize = true;
            this.label2.BackColor = System.Drawing.Color.Transparent;
            this.label2.Font = new System.Drawing.Font("Lucida Calligraphy", 25F);
            this.label2.Location = new System.Drawing.Point(287, 536);
            this.label2.Margin = new System.Windows.Forms.Padding(2, 0, 2, 0);
            this.label2.Name = "label2";
            this.label2.Size = new System.Drawing.Size(110, 44);
            this.label2.TabIndex = 4;
            this.label2.Text = "Time";
            this.label2.Click += new System.EventHandler(this.label2_Click);
            // 
            // Form1
            // 
            this.AutoScaleDimensions = new System.Drawing.SizeF(6F, 13F);
            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
            this.BackColor = System.Drawing.Color.Teal;
            this.BackgroundImage = ((System.Drawing.Image)(resources.GetObject("$this.BackgroundImage")));
            this.ClientSize = new System.Drawing.Size(528, 609);
            this.Controls.Add(this.textBox1);
            this.Controls.Add(this.label1);
            this.Controls.Add(this.label2);
            this.Controls.Add(this.menuStrip1);
            this.Icon = ((System.Drawing.Icon)(resources.GetObject("$this.Icon")));
            this.MainMenuStrip = this.menuStrip1;
            this.Margin = new System.Windows.Forms.Padding(2, 3, 2, 3);
            this.MinimizeBox = false;
            this.Name = "Form1";
            this.Text = "Игра \"Крестики-нолики\"";
            this.Load += new System.EventHandler(this.Form1_Load);
            this.menuStrip1.ResumeLayout(false);
            this.menuStrip1.PerformLayout();
            this.ResumeLayout(false);
            this.PerformLayout();

        }

        #endregion

        private System.Windows.Forms.MenuStrip menuStrip1;
        private System.Windows.Forms.ToolStripMenuItem играToolStripMenuItem;
        private System.Windows.Forms.ToolStripMenuItem игратьЗановоToolStripMenuItem;
        private System.Windows.Forms.ToolStripMenuItem помошьToolStripMenuItem;
        private System.Windows.Forms.ToolStripMenuItem правилаИгрыToolStripMenuItem;
        private System.Windows.Forms.ToolStripMenuItem оПрограммеToolStripMenuItem;
        private System.Windows.Forms.ToolStripMenuItem выходToolStripMenuItem;
        private System.Windows.Forms.TextBox textBox1;
        private System.Windows.Forms.Label label1;
        private System.Windows.Forms.Label label2;
        private System.Windows.Forms.ToolStripMenuItem играНаВремяToolStripMenuItem;
        private System.Windows.Forms.ToolStripMenuItem включитьТаймерToolStripMenuItem;
        private System.Windows.Forms.ToolStripMenuItem остановитьВремяToolStripMenuItem;
        private System.Windows.Forms.ToolStripMenuItem стратегииToolStripMenuItem;
        private System.Windows.Forms.ToolStripMenuItem вкладкаДляТестДрайваToolStripMenuItem;
        private System.Windows.Forms.ToolStripMenuItem разToolStripMenuItem;
        private System.Windows.Forms.ToolStripMenuItem разРазToolStripMenuItem;
        private System.Windows.Forms.ToolStripMenuItem разРазРазToolStripMenuItem;
    }
}

namespace WindowsFormsApplication2
{
    partial class Form2
    {
        /// <summary>
        /// Required designer variable.
        /// </summary>
        private System.ComponentModel.IContainer components = null;

        /// <summary>
        /// Clean up any resources being used.
        /// </summary>
        /// <param name="disposing">true if managed resources should be disposed; otherwise, false.</param>
        protected override void Dispose(bool disposing)
        {
            if (disposing && (components != null))
            {
                components.Dispose();
            }
            base.Dispose(disposing);
        }

        #region Windows Form Designer generated code

        /// <summary>
        /// Required method for Designer support - do not modify
        /// the contents of this method with the code editor.
        /// </summary>
        private void InitializeComponent()
        {
            System.ComponentModel.ComponentResourceManager resources = new System.ComponentModel.ComponentResourceManager(typeof(Form2));
            this.label1 = new System.Windows.Forms.Label();
            this.button1 = new System.Windows.Forms.Button();
            this.button2 = new System.Windows.Forms.Button();
            this.SuspendLayout();
            // 
            // label1
            // 
            this.label1.AutoSize = true;
            this.label1.BackColor = System.Drawing.Color.Transparent;
            this.label1.Font = new System.Drawing.Font("Roboto", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point, ((byte)(204)));
            this.label1.Location = new System.Drawing.Point(30, 43);
            this.label1.Margin = new System.Windows.Forms.Padding(4, 0, 4, 0);
            this.label1.Name = "label1";
            this.label1.Size = new System.Drawing.Size(442, 48);
            this.label1.TabIndex = 0;
            this.label1.Text = "Это не поле чудес, но первый ход достаётся...\r\nПамПараПамПамПам";
            this.label1.TextAlign = System.Drawing.ContentAlignment.MiddleCenter;
            this.label1.Click += new System.EventHandler(this.label1_Click);
            // 
            // button1
            // 
            this.button1.BackColor = System.Drawing.Color.Transparent;
            this.button1.DialogResult = System.Windows.Forms.DialogResult.Yes;
            this.button1.Font = new System.Drawing.Font("Roboto", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point, ((byte)(204)));
            this.button1.Location = new System.Drawing.Point(34, 116);
            this.button1.Margin = new System.Windows.Forms.Padding(4);
            this.button1.Name = "button1";
            this.button1.Size = new System.Drawing.Size(203, 61);
            this.button1.TabIndex = 1;
            this.button1.Text = "Их величеству Крестикам";
            this.button1.UseVisualStyleBackColor = false;
            // 
            // button2
            // 
            this.button2.DialogResult = System.Windows.Forms.DialogResult.No;
            this.button2.Font = new System.Drawing.Font("Roboto", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point, ((byte)(204)));
            this.button2.ForeColor = System.Drawing.SystemColors.ControlText;
            this.button2.Location = new System.Drawing.Point(269, 116);
            this.button2.Margin = new System.Windows.Forms.Padding(4);
            this.button2.Name = "button2";
            this.button2.Size = new System.Drawing.Size(203, 61);
            this.button2.TabIndex = 2;
            this.button2.Text = "Революционным Ноликам";
            this.button2.UseVisualStyleBackColor = true;
            // 
            // Form2
            // 
            this.AutoScaleDimensions = new System.Drawing.SizeF(8F, 16F);
            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
            this.BackColor = System.Drawing.Color.Teal;
            this.BackgroundImage = ((System.Drawing.Image)(resources.GetObject("$this.BackgroundImage")));
            this.ClientSize = new System.Drawing.Size(519, 237);
            this.Controls.Add(this.button2);
            this.Controls.Add(this.button1);
            this.Controls.Add(this.label1);
            this.Icon = ((System.Drawing.Icon)(resources.GetObject("$this.Icon")));
            this.Margin = new System.Windows.Forms.Padding(4);
            this.Name = "Form2";
            this.Load += new System.EventHandler(this.Form2_Load);
            this.ResumeLayout(false);
            this.PerformLayout();

        }

        #endregion

        private System.Windows.Forms.Label label1;
        private System.Windows.Forms.Button button1;
        private System.Windows.Forms.Button button2;
    }
}

namespace WindowsFormsApplication2
{
    partial class Form3
    {
        /// <summary>
        /// Required designer variable.
        /// </summary>
        private System.ComponentModel.IContainer components = null;

        /// <summary>
        /// Clean up any resources being used.
        /// </summary>
        /// <param name="disposing">true if managed resources should be disposed; otherwise, false.</param>
        protected override void Dispose(bool disposing)
        {
            if (disposing && (components != null))
            {
                components.Dispose();
            }
            base.Dispose(disposing);
        }

        #region Windows Form Designer generated code

        /// <summary>
        /// Required method for Designer support - do not modify
        /// the contents of this method with the code editor.
        /// </summary>
        private void InitializeComponent()
        {
            System.ComponentModel.ComponentResourceManager resources = new System.ComponentModel.ComponentResourceManager(typeof(Form3));
            this.SuspendLayout();
            // 
            // Form3
            // 
            this.AutoScaleDimensions = new System.Drawing.SizeF(8F, 16F);
            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
            this.BackgroundImage = ((System.Drawing.Image)(resources.GetObject("$this.BackgroundImage")));
            this.BackgroundImageLayout = System.Windows.Forms.ImageLayout.Stretch;
            this.ClientSize = new System.Drawing.Size(1099, 725);
            this.Icon = ((System.Drawing.Icon)(resources.GetObject("$this.Icon")));
            this.Margin = new System.Windows.Forms.Padding(3, 2, 3, 2);
            this.Name = "Form3";
            this.Text = "Form3";
            this.TopMost = true;
            this.UseWaitCursor = true;
            this.Load += new System.EventHandler(this.Form3_Load);
            this.ResumeLayout(false);

        }

        #endregion

    }
}

using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Timers;
using System.Windows.Forms;

namespace WindowsFormsApplication2
{
    public partial class Form1 : Form
    {
        System.Timers.Timer t;//Обьявление таймера
        int m, s; // Минуты , секуны

        bool indicator = true;
        int x, y;
        int counter = 0;
        int[,] field = new int[14, 14];
        public Button but = new Button();
        public Form1()
        {
            int i,j;
            InitializeComponent();            
            for (i = 1; i < 13; i++)                            //генерация кнопок
            {
                for (j = 1; j < 13; j++)
                {
                    but = new Button();
                    but.Size = new Size(50, 50);                //размер кнопки
                    but.Location = new Point(i*50, j*50);       //ее позиция
                    but.Click += new EventHandler(but_Click);   //действие при клике
                    but.Text = " ";
                    this.Controls.Add(but);
                }
            }
        }

        public void but_Click(object sender, EventArgs e)       //действие при нажатии 
        {
            but = (Button)sender;
            x = (but.Location.X / 50);
            y = (but.Location.Y / 50);
            string location = x + ":" + y;
            //MessageBox.Show(location);
            if (indicator)
            {
                but.Text = "Х";
                field[x, y] = 1;
                indicator = false;
            }
            else
            {
                but.Text = "O";
                field[x, y] = 2;
                indicator = true;
            }
            but.Enabled = false;
            counter++;
            Check();
        }

        private void Check()
        {
            //if (x == 1 && y == 1) /*верхний левый угол последний элемент*/
            //{
            //    if (field[x + 1, y] == field[x, y] && field[x + 2, y] == field[x, y] && field[x + 3, y] == field[x, y] && field[x + 4, y] == field[x, y]                 ||  /* горизонталь */
            //        field[x + 1, y + 1] == field[x, y] && field[x + 2, y + 2] == field[x, y] && field[x + 3, y + 3] == field[x, y] && field[x + 4, y + 4] == field[x, y] ||  /* диагональ*/
            //        field[x, y + 1] == field[x, y] && field[x, y + 2] == field[x, y] && field[x, y + 3] == field[x, y] && field[x, y + 4] == field[x, y])                    /* вертикаль*/
            //    {
            //        MessageBox.Show("Победа");
            //    }
            //}
            //else if (x == 1 && y == 30) /*нижний левый угол последний элемент*/
            //{
            //    if (field[x + 1, y] == field[x, y] && field[x + 2, y] == field[x, y] && field[x + 3, y] == field[x, y] && field[x + 4, y] == field[x, y]                 ||  /* горизонталь */
            //        field[x + 1, y - 1] == field[x, y] && field[x + 2, y - 2] == field[x, y] && field[x + 3, y - 3] == field[x, y] && field[x + 4, y - 4] == field[x, y] ||  /* диагональ*/
            //        field[x, y - 1] == field[x, y] && field[x, y - 2] == field[x, y] && field[x, y - 3] == field[x, y] && field[x, y - 4] == field[x, y])                    /* вертикаль*/
            //    {
            //        MessageBox.Show("Победа");
            //    }
            //}
            //else if (x == 30 && y == 1) /*верхний правый угол последний элемент*/
            //{
            //    if (field[x - 1, y] == field[x, y] && field[x - 2, y] == field[x, y] && field[x - 3, y] == field[x, y] && field[x - 4, y] == field[x, y]                 ||  /* горизонталь */
            //        field[x - 1, y + 1] == field[x, y] && field[x - 2, y + 2] == field[x, y] && field[x - 3, y + 3] == field[x, y] && field[x - 4, y + 4] == field[x, y] ||  /* диагональ*/
            //        field[x, y + 1] == field[x, y] && field[x, y + 2] == field[x, y] && field[x, y + 3] == field[x, y] && field[x, y + 4] == field[x, y])                    /* вертикаль*/
            //    {
            //        MessageBox.Show("Победа");
            //    }
            //}
            //else if (x == 30 && y == 30) /*нижний правый угол последний элемент*/
            //{
            //    if (field[x - 1, y] == field[x, y] && field[x - 2, y] == field[x, y] && field[x - 3, y] == field[x, y] && field[x - 4, y] == field[x, y]                 ||  /* горизонталь */
            //        field[x - 1, y + 1] == field[x, y] && field[x - 2, y + 2] == field[x, y] && field[x - 3, y + 3] == field[x, y] && field[x - 4, y + 4] == field[x, y] ||  /* диагональ*/
            //        field[x, y - 1] == field[x, y] && field[x, y - 2] == field[x, y] && field[x, y - 3] == field[x, y] && field[x, y - 4] == field[x, y])                    /* вертикаль*/
            //    {
            //        MessageBox.Show("Победа");
            //    }
            //}
            //    /* переход на другие условия-------------------------------------------------------------------------------------------------------------------------------------------------*/
            //else if (x == 1 && y == 2) /*верхний левый угол предпоследний элемент*/
            //{
            //    if (field[x - 1, y] == field[x, y] && field[x + 1, y] == field[x, y] && field[x + 2, y] == field[x, y] && field[x + 3, y] == field[x, y]                 ||  /* горизонталь */
            //        field[x + 1, y + 1] == field[x, y] && field[x + 2, y + 2] == field[x, y] && field[x + 3, y + 3] == field[x, y] && field[x + 4, y + 4] == field[x, y] ||  /* диагональ*/
            //        field[x, y - 1] == field[x, y] && field[x, y + 1] == field[x, y] && field[x, y + 2] == field[x, y] && field[x, y + 3] == field[x, y])                    /* вертикаль*/
            //    {
            //        MessageBox.Show("Победа");
            //    }
            //}
            //else if (x == 1 && y == 30) /*нижний левый угол последний элемент*/
            //{
            //    if (field[x + 1, y] == field[x, y] && field[x + 2, y] == field[x, y] && field[x + 3, y] == field[x, y] && field[x + 4, y] == field[x, y] ||  /* горизонталь */
            //        field[x + 1, y - 1] == field[x, y] && field[x + 2, y - 2] == field[x, y] && field[x + 3, y - 3] == field[x, y] && field[x + 4, y - 4] == field[x, y] ||  /* диагональ*/
            //        field[x, y - 1] == field[x, y] && field[x, y - 2] == field[x, y] && field[x, y - 3] == field[x, y] && field[x, y - 4] == field[x, y])                    /* вертикаль*/
            //    {
            //        MessageBox.Show("Победа");
            //    }
            //}
            //else if (x == 30 && y == 1) /*верхний правый угол последний элемент*/
            //{
            //    if (field[x - 1, y] == field[x, y] && field[x - 2, y] == field[x, y] && field[x - 3, y] == field[x, y] && field[x - 4, y] == field[x, y] ||  /* горизонталь */
            //        field[x - 1, y + 1] == field[x, y] && field[x - 2, y + 2] == field[x, y] && field[x - 3, y + 3] == field[x, y] && field[x - 4, y + 4] == field[x, y] ||  /* диагональ*/
            //        field[x, y + 1] == field[x, y] && field[x, y + 2] == field[x, y] && field[x, y + 3] == field[x, y] && field[x, y + 4] == field[x, y])                    /* вертикаль*/
            //    {
            //        MessageBox.Show("Победа");
            //    }
            //}
            //else if (x == 30 && y == 30) /*нижний правый угол последний элемент*/
            //{
            //    if (field[x - 1, y] == field[x, y] && field[x - 2, y] == field[x, y] && field[x - 3, y] == field[x, y] && field[x - 4, y] == field[x, y] ||  /* горизонталь */
            //        field[x - 1, y + 1] == field[x, y] && field[x - 2, y + 2] == field[x, y] && field[x - 3, y + 3] == field[x, y] && field[x - 4, y + 4] == field[x, y] ||  /* диагональ*/
            //        field[x, y - 1] == field[x, y] && field[x, y - 2] == field[x, y] && field[x, y - 3] == field[x, y] && field[x, y - 4] == field[x, y])                    /* вертикаль*/
            //    {
            //        MessageBox.Show("Победа");
            //    }
            //}
            //else
            //{
                if (field[x + 1, y] == field[x, y] && field[x + 2, y] == field[x, y] && field[x - 1, y] == field[x, y] && field[x - 2, y] == field[x, y]                 || /* горизонталь, если последний элемент по середине*/
                    field[x, y + 1] == field[x, y] && field[x, y + 2] == field[x, y] && field[x, y - 1] == field[x, y] && field[x, y - 2] == field[x, y]                 || /* вертикаль, если последний элемент по середине*/
                    field[x - 1, y - 1] == field[x, y] && field[x - 2, y - 2] == field[x, y] && field[x + 1, y + 1] == field[x, y] && field[x + 2, y + 2] == field[x, y] || /* диагональ слева на право,  элемент по середине*/
                    field[x + 1, y - 1] == field[x, y] && field[x + 2, y - 2] == field[x, y] && field[x - 1, y + 1] == field[x, y] && field[x - 2, y + 2] == field[x, y] || /* диагональ справа на лево,  элемент по середине*/
                    field[x - 1, y] == field[x, y] && field[x - 2, y] == field[x, y] && field[x - 3, y] == field[x, y] && field[x - 4, y] == field[x, y]                 || /* если последний элемент крайний справа*/
                    field[x + 1, y + 1] == field[x, y] && field[x + 2, y + 2] == field[x, y] && field[x + 3, y + 3] == field[x, y] && field[x +4 , y + 4] == field[x, y] || /* диагональ слева на право,  крайний сверху*/
                    field[x - 1, y - 1] == field[x, y] && field[x - 2, y - 2] == field[x, y] && field[x - 3, y - 3] == field[x, y] && field[x - 4, y - 4] == field[x, y] || /* диагональ слева на право,  крайний снизу*/
                    field[x - 1, y + 1] == field[x, y] && field[x - 2, y + 2] == field[x, y] && field[x - 3, y + 3] == field[x, y] && field[x - 4, y + 4] == field[x, y] || /* диагональ справа на лево,  крайний сверху*/
                    field[x + 1, y - 1] == field[x, y] && field[x + 2, y - 2] == field[x, y] && field[x + 3, y - 3] == field[x, y] && field[x + 4, y - 4] == field[x, y] || /* диагональ справа на лево,  крайний снизу*/
                    field[x + 1, y] == field[x, y] && field[x + 2, y] == field[x, y] && field[x + 3, y] == field[x, y] && field[x + 4, y] == field[x, y]                 || /* если последний элемент крайний слева*/
                    field[x, y + 1] == field[x, y] && field[x, y + 2] == field[x, y] && field[x, y + 3] == field[x, y] && field[x, y + 4] == field[x, y]                 || /* если последний элемент крайний сверху*/
                    field[x, y - 1] == field[x, y] && field[x, y - 2] == field[x, y] && field[x, y - 3] == field[x, y] && field[x, y - 4] == field[x, y]                 || /* если последний элемент крайний снизу*/
                    field[x + 1, y] == field[x, y] && field[x - 1, y] == field[x, y] && field[x - 2, y] == field[x, y] && field[x - 3, y] == field[x, y]                 || /* если последний элемент предпоследний справа*/
                    field[x - 1, y] == field[x, y] && field[x + 1, y] == field[x, y] && field[x + 2, y] == field[x, y] && field[x + 3, y] == field[x, y]                 || /* если последний элемент предпоследний слева*/
                    field[x, y - 1] == field[x, y] && field[x, y + 1] == field[x, y] && field[x, y + 2] == field[x, y] && field[x, y + 3] == field[x, y]                 || /* если последний элемент предпоследний сверху*/
                    field[x, y + 1] == field[x, y] && field[x, y - 1] == field[x, y] && field[x, y - 2] == field[x, y] && field[x, y - 3] == field[x, y]                 || /* если последний элемент предпоследний снизу*/
                    field[x - 1, y - 1] == field[x, y] && field[x + 1, y + 1] == field[x, y] && field[x + 2, y + 2] == field[x, y] && field[x + 3, y + 3] == field[x, y] || /*диагональ справа на лево, предпоследний сверху*/ 
                    field[x + 1, y + 1] == field[x, y] && field[x - 1, y - 1] == field[x, y] && field[x - 2, y - 2] == field[x, y] && field[x - 3, y - 3] == field[x, y] || /*диагональ справа на лево, предпоследний снизу*/
                    field[x + 1, y - 1] == field[x, y] && field[x - 1, y + 1] == field[x, y] && field[x - 2, y + 2] == field[x, y] && field[x - 3, y + 3] == field[x, y] || /* диагональ справа на лево,  предпоследний сверху*/
                    field[x + 1, y - 1] == field[x, y] && field[x - 1, y + 1] == field[x, y] && field[x - 2, y + 2] == field[x, y] && field[x - 3, y + 3] == field[x, y]    /* диагональ справа на лево,  предпоследний снизу*/
                    )
                {
                    if (!indicator)
                    {
                    t.Stop();//Остановка таймера при победе
                    MessageBox.Show("На этот раз победили Крестики");
                   

                }
                    else
                    {
                    t.Stop();//Остановка таймера при победе
                    MessageBox.Show("Победу в этом сражении одержали Нолики");
                     }
                DialogResult dialogResult = MessageBox.Show("Мы не Марвел, но у нас войны тоже могут быть бесконечными. \nПерезапустить сражение ? ", "Уведомление", MessageBoxButtons.YesNo);
                if (dialogResult == DialogResult.Yes)
                {
                    Application.Restart();//если да
                }
                else if (dialogResult == DialogResult.No)
                {
                    this.Close(); //если нет
                }


            }
                else if(counter == 900)
            {
                MessageBox.Show("Никто не победил, хватило же терпения..");
            }
            /*}*/
        }

        private void игратьЗановоToolStripMenuItem_Click(object sender, EventArgs e)
        {
            Application.Restart();
        }

        private void правилаИгрыToolStripMenuItem_Click(object sender, EventArgs e)
        {
            MessageBox.Show("1 - Перво-наперво стоит определиться с лагерем. Ты крестик? Или ты нолик?\n2 - После того, как выбор сделан - настало время делать первый шаг! Начни войну и поставь нолик(или крестик) в любой ячейке таблицы. .\n3)Мы не герои меча и магии, но правил придерживаемся тех же: после твоего хода, настало время опонента показать, чего он стоит и сделать собственный шаг.\n4)Война, хоть и не на Донбассе, но продолжается довольно долго, до тех пор, пока поле боя себя не исчерпает(клеточки закончатся) или один из участников не нанесёт добивающий удар(5 крестиков или ноликов подряд).\nБог триедин и мы тоже. Поэтому допускается добивающий удар по горизонтали(словно линия горизонта), вертикали(как памятник Ленину), и диагонали(наискосок)");
        }

        private void оПрограммеToolStripMenuItem_Click(object sender, EventArgs e)
        {
            MessageBox.Show("Программа написана по фану, а также в рамках лабораторной работы по дисциплине \"Групповая Динамика\" кафедры\"Программная инженерия\" факультета КНТ Донецкого Национального технического университета \nКоманда в полном составе:\nКубасов Евгений\nШиман Артём");;
        }

        private void выходToolStripMenuItem_Click(object sender, EventArgs e)
        {
            this.Close();
        }

        private void включитьТаймерToolStripMenuItem_Click(object sender, EventArgs e)
        {
            
        }

        private void label1_Click(object sender, EventArgs e)
        {

        }
        private void label2_Click(object sender, EventArgs e)
        {

        }
        //старт таймера

        //стоп таймера

        private void Form1_FormClosing(object sender, FormClosingEventArgs e)
        {
            t.Stop();
            Application.DoEvents();
            
        }

        private void включитьТаймерToolStripMenuItem_Click_1(object sender, EventArgs e)
        {
            t.Start();
        }

        private void остановитьВремяToolStripMenuItem_Click(object sender, EventArgs e)
        {
            t.Stop();
            //Пасхалка
            Form3 button2 = new Form3();
            button2.ShowDialog();
        }

        private void menuStrip1_ItemClicked(object sender, ToolStripItemClickedEventArgs e)
        {

        }

       

        private void стратегииToolStripMenuItem_Click(object sender, EventArgs e)
        {
            MessageBox.Show("Эксперты сообщают : \"Стержневой победной тактикой при игре «5 в ряд» является построение «вилок», т.е.таких пересечений, которые не дают вероятности противнику строить пятерки, в этом случае крупна вероятность победы начинающего игрока.Впрочем построение ряда больше 5 не является победой.В тоже время существует одно лимитация в правилах: 1 - й игрок ставит свою фигуру в центр поля, а дальше оба игрока могут ставить свои символы произвольно, при этом 2 - й игрок может сменить цвет.\"");
        }

        private void label1_Click_1(object sender, EventArgs e)
        {

        }

        private void играНаВремяToolStripMenuItem_Click(object sender, EventArgs e)
        {

        }

        private void вкладкаДляТестДрайваToolStripMenuItem_Click(object sender, EventArgs e)
        {

        }

        private void Form1_Load(object sender, EventArgs e)
        {
            Form2 f = new Form2(); // окно с выбором игрока
            if (f.ShowDialog() == DialogResult.Yes)
            {
                indicator = true;
            }
            else
            {
                indicator = false;
            }

            //Таймер
            t = new System.Timers.Timer();
            t.Interval = 1000;
            t.Elapsed += OnTimeEvent;



        }
        //Метод таймера
        private void OnTimeEvent(object sender, System.Timers.ElapsedEventArgs e)
        {
            s += 1;
            Invoke(new Action(() =>
            {
                if (s == 60)
                {
                    s = 0;
                    m += 1;
                    if (m == 01)//Таймер на 10 минут
                    {
                        Application.DoEvents();
                      
                        t.Stop();
                        Application.DoEvents();
                        DialogResult dialogResult = MessageBox.Show("10 минут... Это уже слишком\nПерезапустить игру?", "Уведомление", MessageBoxButtons.YesNo);
                        if (dialogResult == DialogResult.Yes)
                        {
                            Application.Restart();//если да
                        }
                        else if (dialogResult == DialogResult.No)
                        {
                            this.Close(); //если нет
                        }


                    }


                }
                if (m==60)
                {
                    m = 0;
                    
                }

                textBox1.Text = string.Format("{0}:{1}", m.ToString().PadLeft(2, '0'), s.ToString().PadLeft(2, '0'));
            }));
        }
    }
}
